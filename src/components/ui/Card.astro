---
const { title, description, image, link, tags = [] } = Astro.props;
---

<article
  class="group rounded-2xl overflow-hidden bg-bone-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition duration-300 relative h-full flex flex-col"
>
  <!-- Imagen del proyecto con mejor accesibilidad -->
  <figure class="relative h-48 overflow-hidden flex-shrink-0">
    <div
      class="absolute inset-0 bg-gradient-to-t from-gray-900/20 to-transparent"
      aria-hidden="true"
    >
    </div>
    <img
      src={image}
      alt={`Captura del proyecto: ${title}`}
      class="w-full h-full object-cover transition duration-500 group-hover:scale-105 z-30"
      width="400"
      height="192"
      loading="lazy"
      decoding="async"
    />
  </figure>

  <!-- Efecto de gradiente mejorado -->
  <div
    class="absolute bottom-0 -right-6 w-full h-1/2 pointer-events-none"
    aria-hidden="true"
  >
    <div
      class="absolute rotate-55 -right-10 -bottom-10 w-52 h-72 bg-gradient-to-tl from-bone-white dark:from-sea-green via-mint-green/50 to-sea-green/70 dark:to-blue-teal rounded-4xl backdrop-blur-md blur-md opacity-70"
    >
    </div>
  </div>

  <!-- Contenido de la tarjeta -->
  <div class="p-6 flex-grow flex flex-col relative z-10">
    <header class="mb-4">
      <h3
        class="text-xl font-semibold mb-2 text-gray-800 dark:text-white line-clamp-2"
      >
        {title}
      </h3>
      <p
        class="text-sm leading-relaxed text-gray-600 dark:text-gray-300 line-clamp-3"
      >
        {description}
      </p>
    </header>

    {
      tags.length > 0 && (
        <div class="mt-auto mb-4">
          <ul class="flex flex-wrap gap-2" aria-label="TechnologÃ­as utilizadas">
            {tags.map((tag: string) => (
              <li>
                <span class="px-3 py-1 bg-teal-100 dark:bg-teal-900/60 text-teal-800 dark:text-teal-100 text-xs font-medium rounded-full whitespace-nowrap">
                  {tag}
                </span>
              </li>
            ))}
          </ul>
        </div>
      )
    }

    <a
      href={link}
      target="_blank"
      class="mt-4 inline-flex items-center text-teal-600 dark:text-teal-400 font-medium hover:text-teal-800 dark:hover:text-teal-300 transition duration-200 group/link"
      aria-label={`Ver proyecto ${title}`}
    >
      Ver proyecto
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 ml-1 transition-transform duration-200 group-hover/link:translate-x-1"
        viewBox="0 0 20 20"
        fill="currentColor"
        aria-hidden="true"
      >
        <path
          fill-rule="evenodd"
          d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z"
          clip-rule="evenodd"></path>
      </svg>
    </a>
  </div>
</article>
